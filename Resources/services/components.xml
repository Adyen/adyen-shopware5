<?xml version="1.0" ?>
<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
    <services>
        <!-- Components -->
        <service id="AdyenPayment\Components\DataConversion" public="true"/>
        <service id="AdyenPayment\Components\Calculator\PriceCalculationService"/>
        <service id="AdyenPayment\Components\NotificationProcessor">
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="models"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\NotificationManager"/>
        </service>
        <service id="AdyenPayment\Components\BasketService" public="true">
            <argument type="service" id="events"/>
            <argument type="service" id="models"/>
            <argument type="service" id="db"/>
            <argument type="service" id="session"/>
            <argument type="service" id="AdyenPayment\Basket\Restore\DetailAttributesRestorer"/>
        </service>
        <service id="AdyenPayment\Components\Configuration" public="true">
            <argument type="service" id="shopware.plugin.cached_config_reader"/>
            <argument type="service" id="dbal_connection"/>
        </service>
        <service id="AdyenPayment\Components\OrderMailService" public="true">
            <argument type="service" id="models"/>
            <argument type="service" id="AdyenPayment\Components\BasketService"/>
        </service>
        <service id="AdyenPayment\Components\Adyen\PaymentMethodService" public="true">
            <argument type="service" id="AdyenPayment\AdyenApi\HttpClient\ClientMemoise"/>
            <argument type="service" id="AdyenPayment\Components\Configuration"/>
            <argument type="service" id="adyen_payment.logger"/>
            <argument type="service" id="AdyenPayment\Session\CustomerNumberProvider"/>
        </service>
        <service id="AdyenPayment\Components\Adyen\RefundService" public="true">
            <argument type="service" id="AdyenPayment\AdyenApi\HttpClient\ClientMemoise"/>
            <argument type="service" id="models"/>
            <argument type="service" id="AdyenPayment\Components\NotificationManager"/>
        </service>
        <service id="AdyenPayment\Components\FifoNotificationLoader">
            <argument type="service" id="AdyenPayment\Components\NotificationManager"/>
        </service>
        <service id="AdyenPayment\Components\FifoTextNotificationLoader">
            <argument type="service" id="AdyenPayment\Components\TextNotificationManager"/>
        </service>
        <service id="AdyenPayment\Components\PaymentStatusUpdate">
            <argument type="service" id="models"/>
            <argument type="service" id="events"/>
        </service>
        <service id="AdyenPayment\Components\Adyen\Builder\PaymentMethodOptionsBuilder"/>
        <service id="AdyenPayment\Components\Builder\NotificationBuilder">
            <argument type="service" id="models"/>
        </service>

        <!-- Checkout Payment Payload -->
        <service id="AdyenPayment\Components\Payload\PaymentPayloadProvider"
                 class="AdyenPayment\Components\Payload\Chain" public="true">
            <argument type="service" id="AdyenPayment\Components\Payload\Providers\ApplicationInfoProvider"/>
            <argument type="service" id="AdyenPayment\Components\Payload\Providers\ShopperInfoProvider"/>
            <argument type="service" id="AdyenPayment\Components\Payload\Providers\OrderInfoProvider"/>
            <argument type="service" id="AdyenPayment\Components\Payload\Providers\PaymentMethodProvider"/>
            <argument type="service" id="AdyenPayment\Components\Payload\Providers\LineItemsInfoProvider"/>
            <argument type="service" id="AdyenPayment\Components\Payload\Providers\BrowserInfoProvider"/>
            <argument type="service" id="AdyenPayment\Components\Payload\Providers\StorePaymentProvider"/>
            <argument type="service" id="AdyenPayment\Components\Payload\Providers\RecurringPaymentProvider"/>
        </service>
        <service id="AdyenPayment\Components\Payload\Chain"/>
        <service id="AdyenPayment\Components\Payload\Providers\ApplicationInfoProvider" public="true">
            <argument type="service" id="router"/>
            <argument type="service" id="models"/>
            <argument type="service" id="AdyenPayment\Components\Configuration"/>
        </service>
        <service id="AdyenPayment\Components\Payload\Providers\BrowserInfoProvider"/>
        <service id="AdyenPayment\Components\Payload\Providers\LineItemsInfoProvider">
            <argument type="service" id="AdyenPayment\Components\Calculator\PriceCalculationService"/>
        </service>
        <service id="AdyenPayment\Components\Payload\Providers\OrderInfoProvider"/>
        <service id="AdyenPayment\Components\Payload\Providers\PaymentMethodProvider"/>
        <service id="AdyenPayment\Components\Payload\Providers\ShopperInfoProvider"/>
        <service id="AdyenPayment\Components\Payload\Providers\StorePaymentProvider"/>
        <service id="AdyenPayment\Components\Payload\Providers\RecurringPaymentProvider"/>

        <!-- Notification Processors -->
        <service id="AdyenPayment\Components\NotificationProcessor\Authorisation">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
            <argument type="service" id="models"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\Cancellation">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\Capture">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
            <argument type="service" id="models"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\CaptureFailed">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\Chargeback">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\ChargebackReversed">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\OfferClosed">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\Refund">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\RefundFailed">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\RefundedReversed">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\ManualReviewReject">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="adyen_payment.logger.notifications"/>
            <argument type="service" id="events"/>
            <argument type="service" id="AdyenPayment\Components\PaymentStatusUpdate"/>
            <argument type="service" id="AdyenPayment\Components\Configuration"/>
        </service>
        <service id="AdyenPayment\Components\NotificationProcessor\ManualReviewAccept">
            <tag name="adyen.payment.notificationprocessor"/>
            <argument type="service" id="events"/>
        </service>
        <service id="adyen_payment.components.shopware_version_check"
                 class="AdyenPayment\Components\ShopwareVersionCheck">
            <argument type="service" id="service_container"/>
            <argument type="service" id="adyen_payment.logger"/>
        </service>
        <service id="AdyenPayment\Components\Adyen\PaymentMethod\EnrichedPaymentMeanProvider" public="true">
            <argument type="service" id="AdyenPayment\Components\Adyen\PaymentMethodService"/>
            <argument type="service" id="AdyenPayment\Components\Adyen\Builder\PaymentMethodOptionsBuilder"/>
            <argument type="service" id="AdyenPayment\Enricher\Payment\PaymentMethodEnricher"/>
        </service>
        <service id="AdyenPayment\Components\Adyen\PaymentMethod\TraceableEnrichedPaymentMeanProvider"
                 decorates="AdyenPayment\Components\Adyen\PaymentMethod\EnrichedPaymentMeanProvider">
            <argument type="service" id="AdyenPayment\Components\Adyen\PaymentMethod\TraceableEnrichedPaymentMeanProvider.inner"/>
            <argument type="service" id="adyen_payment.logger"/>
        </service>
        <service id="AdyenPayment\Components\Adyen\PaymentMethod\TraceableEnrichedPaymentMeanProvider"
            decorates="AdyenPayment\Components\Adyen\PaymentMethod\EnrichedPaymentMeanProvider">
            <argument type="service"
                id="AdyenPayment\Components\Adyen\PaymentMethod\TraceableEnrichedPaymentMeanProvider.inner"/>
            <argument type="service" id="adyen_payment.logger"/>
        </service>
        <service id="AdyenPayment\Components\Adyen\PaymentMethod\ImageLogoProvider"/>
    </services>
</container>
